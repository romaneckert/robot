var Interface=Interface||{};Interface.Config=function(){this.cMain=16777215};var Interface=Interface||{};Interface.Circle=function(e,n,i,t,a,c,r,s){var h=new THREE.LineBasicMaterial({color:t,linewidth:a,opacity:c,transparent:!0}),d=new THREE.CircleGeometry(e,n);void 0!=r&&void 0!=s&&(d=new THREE.CircleGeometry(e,n,r,s)),d.vertices.shift();var o=new THREE.Line(d,h);return o.position.x=i[0],o.position.y=i[1],o.position.z=i[2],o};var Interface=Interface||{};Interface.Line=function(e,n,i,t){var a=new THREE.LineBasicMaterial({color:n,linewidth:i,opacity:t,transparent:!0,linejoin:"butt"}),c=new THREE.Geometry;return $.each(e,function(e,n){c.vertices.push(new THREE.Vector3(n[0],n[1],n[2]))}),new THREE.Line(c,a)};var Interface=Interface||{};Interface.Main={config:null,timer:null,width:null,height:null,debug:!1,scene:null,camera:null,renderer:null,objects:{},clock:new THREE.Clock,init:function(){$(window).on("load",this.handleWindowLoad.bind(this)),$(window).on("resize",this.handleWindowResize.bind(this))},handleWindowLoad:function(){this.config=new Interface.Config,this.width=window.innerWidth,this.height=window.innerHeight,this.updateScene(),$("body").on("click","a",this.handleButtonClick.bind(this)),this.scene.add(new Interface.Circle(100,256,[0,160,0],this.config.cMain,4,.7)),this.scene.add(new Interface.Circle(60,256,[0,160,-100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(60,256,[0,160,100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(100,256,[0,-160,0],this.config.cMain,4,.7)),this.scene.add(new Interface.Circle(60,256,[0,-160,-100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(60,256,[0,-160,100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(100,256,[-220,0,0],this.config.cMain,4,.7)),this.scene.add(new Interface.Circle(60,256,[-220,0,-100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(60,256,[-220,0,100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(100,256,[220,0,0],this.config.cMain,4,.7)),this.scene.add(new Interface.Circle(60,256,[220,0,-100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(60,256,[220,0,100],this.config.cMain,2,.4)),this.scene.add(new Interface.Circle(20,256,[0,0,0],this.config.cMain,4,.7)),this.scene.add(new Interface.Circle(384,256,[0,0,0],this.config.cMain,4,.7));var e=document.createElement("canvas");e.width=1024,e.height=512;var n=e.getContext("2d");n.font='100px "Roboto"',n.textAlign="center",n.fillStyle="rgba(255,255,255,0.9)",n.fillText("10",256,128);var i=new THREE.Texture(e);i.needsUpdate=!0;var t=new THREE.MeshBasicMaterial({map:i});t.transparent=!0;var a=new THREE.PlaneGeometry(128,64),c=new THREE.Mesh(a,t);c.position.x=0,c.position.y=0,this.render(),this.update()},handleWindowResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.updateScene()},updateScene:function(){this.scene||(this.scene=new THREE.Scene),this.camera||(this.cameraObject=new THREE.Object3D,this.camera=new THREE.PerspectiveCamera(45,this.width/this.height,.1,1e4),this.camera.aspect=this.width/this.height,this.camera.position.z=1024,this.camera.updateProjectionMatrix(),this.cameraObject.add(this.camera)),this.scene.add(this.cameraObject),this.renderer||(this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),document.body.appendChild(this.renderer.domElement)),this.renderer.setSize(this.width,this.height)},update:function(){$.get("/api/data",this.handleUpdateSuccess.bind(this)).fail(this.handleUpdateFail.bind(this))},render:function(){var e=this.clock.getDelta();this.cameraObject.rotateY(e*-10*Math.PI/180),window.requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera)},handleUpdateSuccess:function(e){$("#header-nav .navbar-brand span").removeClass("flashing"),$("[data-model]").each(function(n,i){var t=$(i).data("model"),a=$(i).data("attribute");e[t]&&e[t][a]&&$(i).text(e[t][a])}),setTimeout(this.update.bind(this),200)},handleUpdateFail:function(e){setTimeout(this.update.bind(this),200)},handleButtonClick:function(e){var n=$(e.currentTarget),i=n.data("action");if(i)switch(e.preventDefault(),i){case"":default:$.get("/robot/"+i,function(e){$("#content").html(e),$("#loading").remove()}.bind(this)).fail(function(){$("#content").html("error in action "+i),$("#loading").remove()})}}},Interface.Main.init();
//# sourceMappingURL=interface.min.js.map
