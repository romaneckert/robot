var Interface=Interface||{};Interface.Config=function(){this.colors={main:16777215}};var Interface=Interface||{};Interface.Circle=function(e,i,t,n,a,c,r,s){var o=new THREE.LineBasicMaterial({color:n,linewidth:a,opacity:c,transparent:!0}),h=new THREE.CircleGeometry(e,i);void 0!=r&&void 0!=s&&(h=new THREE.CircleGeometry(e,i,r,s)),h.vertices.shift();var d=new THREE.Line(h,o);return d.position.x=t[0],d.position.y=t[1],d.position.z=t[2],d};var Interface=Interface||{};Interface.Line=function(e,i,t,n){var a=new THREE.LineBasicMaterial({color:i,linewidth:t,opacity:n,transparent:!0,linejoin:"butt"}),c=new THREE.Geometry;return $.each(e,function(e,i){c.vertices.push(new THREE.Vector3(i[0],i[1],i[2]))}),new THREE.Line(c,a)};var Interface=Interface||{};Interface.Main={config:null,timer:null,width:null,height:null,debug:!1,scene:null,camera:null,renderer:null,objects:{},clock:null,delta:null,init:function(){$(window).on("load",this.handleWindowLoad.bind(this)),$(window).on("resize",this.handleWindowResize.bind(this))},handleWindowLoad:function(){this.config=new Interface.Config,this.width=window.innerWidth,this.height=window.innerHeight,this.updateScene(),$("body").on("click","a",this.handleButtonClick.bind(this)),this.scene.add(new Interface.Circle(100,256,[0,160,0],this.config.colors.main,4,.7)),this.scene.add(new Interface.Circle(60,256,[0,160,-100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(60,256,[0,160,100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(100,256,[0,-160,0],this.config.colors.main,4,.7)),this.scene.add(new Interface.Circle(60,256,[0,-160,-100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(60,256,[0,-160,100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(100,256,[-220,0,0],this.config.colors.main,4,.7)),this.scene.add(new Interface.Circle(60,256,[-220,0,-100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(60,256,[-220,0,100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(100,256,[220,0,0],this.config.colors.main,4,.7)),this.scene.add(new Interface.Circle(60,256,[220,0,-100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(60,256,[220,0,100],this.config.colors.main,2,.4)),this.scene.add(new Interface.Circle(20,256,[0,0,0],this.config.colors.main,4,.7)),this.scene.add(new Interface.Circle(384,256,[0,0,0],this.config.colors.main,4,.7));var e=document.createElement("canvas");e.width=1024,e.height=512;var i=e.getContext("2d");i.font='100px "Roboto"',i.textAlign="center",i.fillStyle="rgba(255,255,255,0.9)",i.fillText("10",256,128);var t=new THREE.Texture(e);t.needsUpdate=!0;var n=new THREE.MeshBasicMaterial({map:t});n.transparent=!0;var a=new THREE.PlaneGeometry(128,64),c=new THREE.Mesh(a,n);c.position.x=0,c.position.y=0,this.render(),this.update()},handleWindowResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.updateScene()},updateScene:function(){this.scene||(this.scene=new THREE.Scene),this.camera||(this.cameraObject=new THREE.Object3D,this.camera=new THREE.PerspectiveCamera(45,this.width/this.height,.1,1e4),this.cameraObject.add(this.camera)),this.camera.aspect=this.width/this.height,this.camera.position.z=1024,this.camera.updateProjectionMatrix(),this.scene.add(this.cameraObject),this.renderer||(this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),document.body.appendChild(this.renderer.domElement)),this.renderer.setSize(this.width,this.height)},update:function(){$.get("/api/data",this.handleUpdateSuccess.bind(this)).fail(this.handleUpdateFail.bind(this))},render:function(){this.clock||(this.clock=new THREE.Clock),this.delta=this.clock.getDelta(),window.requestAnimationFrame(this.render.bind(this)),this.cameraObject.rotateY(this.delta*-10*Math.PI/180),this.renderer.render(this.scene,this.camera)},handleUpdateSuccess:function(e){$("[data-model]").each(function(i,t){var n=$(t).data("model"),a=$(t).data("attribute");e[n]&&e[n][a]&&$(t).text(e[n][a])}),setTimeout(this.update.bind(this),200)},handleUpdateFail:function(e){setTimeout(this.update.bind(this),200)},handleButtonClick:function(e){var i=$(e.currentTarget),t=i.data("action");if(t)switch(e.preventDefault(),t){case"":default:$.get("/robot/"+t,function(e){$("#content").html(e),$("#loading").remove()}.bind(this)).fail(function(){$("#content").html("error in action "+t),$("#loading").remove()})}}},Interface.Main.init();
//# sourceMappingURL=interface.min.js.map
